% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/portfolio_functions.R
\name{minvar_portfolio}
\alias{minvar_portfolio}
\title{Compute Minimum-Variance Portfolios}
\usage{
minvar_portfolio(mu, Omega, mu_p = NULL)
}
\arguments{
\item{mu}{A numeric vector of expected returns for assets. Typically computed as
\code{colMeans(returns, na.rm = TRUE)}.}

\item{Omega}{A positive definite covariance matrix of asset returns.}

\item{mu_p}{An optional numeric scalar specifying the target expected return for the
portfolio. Defaults to \code{NULL}, indicating that only the global minimum-variance
portfolio is computed.}
}
\value{
A list containing the following elements:
\describe{
  \item{\code{w_g}}{Numeric vector. Weights of the global minimum-variance portfolio.}
  \item{\code{mu_g}}{Numeric scalar. Expected return of the global minimum-variance portfolio.}
  \item{\code{var_g}}{Numeric scalar. Variance of the global minimum-variance portfolio.}
  \item{\code{risk_g}}{Numeric scalar. Standard deviation (risk) of the global minimum-variance portfolio.}
  \item{\code{w_p}}{Numeric vector. Weights of the portfolio achieving the target expected return \code{mu_p}.}
  \item{\code{mu_p}}{Numeric scalar. Target expected return of the portfolio.}
  \item{\code{var_p}}{Numeric scalar. Variance of the portfolio achieving \code{mu_p}.}
  \item{\code{risk_p}}{Numeric scalar. Standard deviation (risk) of the portfolio achieving \code{mu_p}.}
}
}
\description{
This function computes the global minimum-variance portfolio and, optionally,
the optimal portfolio achieving a specified target return (\code{mu_p}).
It returns both variance and standard deviation (risk) for each portfolio.
}
\details{
The function performs the following steps:
\enumerate{
  \item Validates the input covariance matrix for positive definiteness.
  \item Computes the global minimum-variance portfolio.
  \item If a target return \code{mu_p} is provided, computes the optimal portfolio
  achieving that return.
}

The function ensures that the covariance matrix is positive definite and handles
any computational issues by providing informative warnings and default equal weights
when necessary.
}
\examples{
# Simulate data for 5 assets over 200 time periods
set.seed(123)
p <- 5  # Number of assets
T <- 200  # Number of time periods

# Simulate returns matrix
returns <- matrix(rnorm(T * p, mean = 0.01, sd = 0.02), ncol = p)

# Compute expected returns as column means
expected_returns <- colMeans(returns, na.rm = TRUE)

# Compute covariance matrix for the latest time period (using entire returns matrix)
Omega_latest <- cov(returns, use = "complete.obs")

# Compute global minimum-variance portfolio
global_portfolio <- minvar_portfolio(mu = expected_returns, Omega = Omega_latest)
print(global_portfolio)

# Compute both global and targeted minimum-variance portfolios with mu_p = 0.05
targeted_portfolio <- minvar_portfolio(mu = expected_returns, Omega = Omega_latest, mu_p = 0.05)
print(targeted_portfolio)

}
